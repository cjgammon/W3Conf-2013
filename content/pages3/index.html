<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>NewYorker</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <script src="http://use.edgefonts.net/bebas-neue:n4.js"></script>
        <script src="http://use.edgefonts.net/caudex:n4,i4,n7,i7.js"></script>
        <script src="http://use.edgefonts.net/economica:n4,i4,n7,i7.js"></script>
        <script src="http://use.edgefonts.net/alice.js"></script>
    <style>
body, html{
    margin: 0;
    width: 100%;
    height: 100%;
    font-size: 120%;
    line-height: 1.5em;
	color: #333;
    font-family: alice, serif;
}

section{
    position: relative;
    overflow-x: hidden;
    min-height: 100%;
}
#newyorker-content{
    text-justify: auto;
    -webkit-flow-into: nyorker;
}

.section11Flex{
    display: -webkit-box;
    padding: 20px;
    border-bottom: 1px solid black;
    -webkit-box-sizing: border-box;
}

.content-nyorker{
    margin: 0 1.3em;
    -webkit-box-flex: 1;
    -webkit-flow-from: nyorker;
}

#section11-info{
    position: fixed;
    bottom: 0px;
    width: 100%;
    padding: 5px 50px;
    border-top: 1px solid #eee;
    font-size: .5em;
    background: #f6f6f6;
}

    </style>
    </head>
    <body>

        <section id="section11">
            <div id="section11-content"></div>
            <div id="section11-info">PAGE #<span id="pageNumber"></span></div>
        </section>

        <div id="newyorker-content">
            <h3>ENTERING THE ABYSS</h3>
            <h1>END RESULT</h1>
            <h2>Exploring the mysteries beyond our view</h2>
            <h5>BY SAM HENDSWORTH</h5>
            <date>OCTOBER 29, 2012</date>

            <figure>
                <img width="100%" src="images/img.jpeg">
                <p>&ldquo;Sometimes there are things we just can't explain&rdquo;</p>
            </figure>
<p>Brackets is a new open source code editor for HTML, CSS and JavaScript built with HTML, CSS and JavaScript.</p>
<p>Apache Cordova is a platform for building native mobile applications using HTML, CSS and JavaScript. Adobe PhoneGap is a distribution of Apache Cordova.</p>
<p>Want to contribute to the Apache Cordova project? Check out the project page at the Apache Foundation.</p>
<p>Want to build mobile applications using HTML, CSS and JavaScript? Learn more about PhoneGap Build.</p>
<p>Did you know that Adobe made extensive contributions to jQuery Mobile to help create a framework based on the principles of progressive enhancement and accessibility? It was truly a community effort and we were thrilled to help make jQuery Mobile a reality.</p>
<p>Check out the jQuery Mobile page to download builds, samples and learn more about this touch-optimized mobile framework.</p>
<p>Adobe's Web Platform team is actively contributing to WebKit by focusing on new features related to CSS layout (like CSS Regions and CSS Exclusions), visual effects (like CSS Custom Filters), and SVG.</p>
<p>We also want to make a WebKit developer's life easier by making improvements to WebKit release engineering, performance testing and automated testing.</p>
<p>If you want to learn more about the future of the web, check out what new standards Adobe is championing.</p>
<p>Partnering with gskinner.com, Adobe is sponsoring CreateJS, a suite of open source JavaScript libraries for building rich and interactive experiences. Comprising EaselJS, TweenJS, SoundJS, and PreloadJS, you can choose to work with these libraries either independently or combined in a way that best suits your needs.</p>
<p>Visit the CreateJS page to learn more about the capabilities of this framework and download it so you can start building expressive content with HTML5.</p>
<p>Brackets is a new open source code editor for HTML, CSS and JavaScript built with HTML, CSS and JavaScript.</p>
<p>Apache Cordova is a platform for building native mobile applications using HTML, CSS and JavaScript. Adobe PhoneGap is a distribution of Apache Cordova.</p>
<p>Want to contribute to the Apache Cordova project? Check out the project page at the Apache Foundation.</p>
<p>Want to build mobile applications using HTML, CSS and JavaScript? Learn more about PhoneGap Build.</p>
<p>Did you know that Adobe made extensive contributions to jQuery Mobile to help create a framework based on the principles of progressive enhancement and accessibility? It was truly a community effort and we were thrilled to help make jQuery Mobile a reality.</p>
<p>Check out the jQuery Mobile page to download builds, samples and learn more about this touch-optimized mobile framework.</p>
<p>Adobe's Web Platform team is actively contributing to WebKit by focusing on new features related to CSS layout (like CSS Regions and CSS Exclusions), visual effects (like CSS Custom Filters), and SVG.</p>
<p>We also want to make a WebKit developer's life easier by making improvements to WebKit release engineering, performance testing and automated testing.</p>
<p>If you want to learn more about the future of the web, check out what new standards Adobe is championing.</p>
<p>Partnering with gskinner.com, Adobe is sponsoring CreateJS, a suite of open source JavaScript libraries for building rich and interactive experiences. Comprising EaselJS, TweenJS, SoundJS, and PreloadJS, you can choose to work with these libraries either independently or combined in a way that best suits your needs.</p>
<p>Visit the CreateJS page to learn more about the capabilities of this framework and download it so you can start building expressive content with HTML5.</p>
<p>Brackets is a new open source code editor for HTML, CSS and JavaScript built with HTML, CSS and JavaScript.</p>
<p>Apache Cordova is a platform for building native mobile applications using HTML, CSS and JavaScript. Adobe PhoneGap is a distribution of Apache Cordova.</p>
<p>Want to contribute to the Apache Cordova project? Check out the project page at the Apache Foundation.</p>
<p>Want to build mobile applications using HTML, CSS and JavaScript? Learn more about PhoneGap Build.</p>
<p>Did you know that Adobe made extensive contributions to jQuery Mobile to help create a framework based on the principles of progressive enhancement and accessibility? It was truly a community effort and we were thrilled to help make jQuery Mobile a reality.</p>
<p>Check out the jQuery Mobile page to download builds, samples and learn more about this touch-optimized mobile framework.</p>
<p>Adobe's Web Platform team is actively contributing to WebKit by focusing on new features related to CSS layout (like CSS Regions and CSS Exclusions), visual effects (like CSS Custom Filters), and SVG.</p>
<p>We also want to make a WebKit developer's life easier by making improvements to WebKit release engineering, performance testing and automated testing.</p>
<p>If you want to learn more about the future of the web, check out what new standards Adobe is championing.</p>
<p>Partnering with gskinner.com, Adobe is sponsoring CreateJS, a suite of open source JavaScript libraries for building rich and interactive experiences. Comprising EaselJS, TweenJS, SoundJS, and PreloadJS, you can choose to work with these libraries either independently or combined in a way that best suits your needs.</p>
<p>Visit the CreateJS page to learn more about the capabilities of this framework and download it so you can start building expressive content with HTML5.</p>
<p>Brackets is a new open source code editor for HTML, CSS and JavaScript built with HTML, CSS and JavaScript.</p>
<p>Apache Cordova is a platform for building native mobile applications using HTML, CSS and JavaScript. Adobe PhoneGap is a distribution of Apache Cordova.</p>
<p>Want to contribute to the Apache Cordova project? Check out the project page at the Apache Foundation.</p>
<p>Want to build mobile applications using HTML, CSS and JavaScript? Learn more about PhoneGap Build.</p>
<p>Did you know that Adobe made extensive contributions to jQuery Mobile to help create a framework based on the principles of progressive enhancement and accessibility? It was truly a community effort and we were thrilled to help make jQuery Mobile a reality.</p>
<p>Check out the jQuery Mobile page to download builds, samples and learn more about this touch-optimized mobile framework.</p>
<p>Adobe's Web Platform team is actively contributing to WebKit by focusing on new features related to CSS layout (like CSS Regions and CSS Exclusions), visual effects (like CSS Custom Filters), and SVG.</p>
<p>We also want to make a WebKit developer's life easier by making improvements to WebKit release engineering, performance testing and automated testing.</p>
<p>If you want to learn more about the future of the web, check out what new standards Adobe is championing.</p>
<p>Partnering with gskinner.com, Adobe is sponsoring CreateJS, a suite of open source JavaScript libraries for building rich and interactive experiences. Comprising EaselJS, TweenJS, SoundJS, and PreloadJS, you can choose to work with these libraries either independently or combined in a way that best suits your needs.</p>
<p>Visit the CreateJS page to learn more about the capabilities of this framework and download it so you can start building expressive content with HTML5.â™¦</p>
        </div>

        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

		<script src="../tools/scripts/main.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')</script>

        <script>
        var instance = this,
            $section,
            $window,
            $document,
            flow,
            currentSpread = 0,
            COL_WIDTH = 700;

        function addSpread() {
            var $column,
                $page;

            $page = $('<div class="section11Flex"></div>');
            $section.append($page);

            function addPageLoop() {
                try{
                    //console.log($column.width());
                } catch (e) {}

                if (typeof($column) == 'undefined' || $column.width() > COL_WIDTH) {
                    $column = $('<div class="content-nyorker fade-in"></div>');
                    $page.append($column);
                    addPageLoop();
                } 
            }

            addPageLoop();
        }

        //TODO toggle visibility templates
        function resetRegions() {
            $section.html('');
            addSpread();
            addSpread();
            addSpread();
            addSpread();
            addSpread();
            addSpread();
            addSpread();
            addSpread();
        };

        function scrollToSpread() {
            var currentSpreadElement,
                newTop;

            $('#pageNumber').html(currentSpread + 1);
            currentSpreadElement = $('.section11Flex')[currentSpread];
            newTop = $(currentSpreadElement).position().top;

            $('html, body').animate({'scrollTop': newTop}, 200);
        };

        function handle_KEY_DOWN(e) {
            switch (e.keyCode) {
            case 40:
                currentSpread += 1;
                scrollToSpread();
                break;
            case 38:
                currentSpread = currentSpread > 0 ? currentSpread - 1 : 0;
                scrollToSpread();
                break;
            }
        };

        function handle_KEY_UP(e) {
            
        };

        function handle_REGION_UPDATE(e) {

        };

        //TODO:: throttle this
        function handle_RESIZE() {
            resetRegions();

            $('.content-nyorker').height($window.height() - 60);
        };

        //TODO:: handle scroll to choose page
        function handle_SCROLL() {

        };


            function init() {
                $section = $('#section11-content');
                $document = $(document);
                $window = $(window);

                currentSpread = 0;
                $('#pageNumber').html(currentSpread + 1);

                //flow = document.webkitGetFlowByName('nyorker');
                flow = document.webkitGetNamedFlows().namedItem('nyorker');
                flow.addEventListener('regionLayoutUpdate', handle_REGION_UPDATE); //not implemented??
            
                handle_RESIZE();
                $window.bind('resize', handle_RESIZE);
                //$window.bind('scroll', handle_SCROLL);

                $document.bind('keydown', handle_KEY_DOWN);
                $document.bind('keyup', handle_KEY_UP);
            }

            $(document).ready(init);
        </script>
</body>
</html>
